<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>use-cases/pull-network · LPWAN Server</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Use Case - Pull Network"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="use-cases/pull-network · LPWAN Server"/><meta property="og:type" content="website"/><meta property="og:url" content="https://cablelabs.github.io/"/><meta property="og:description" content="# Use Case - Pull Network"/><meta property="og:image" content="https://cablelabs.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://cablelabs.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-24446455-9', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">LPWAN Server</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/overview/overview" target="_self">About</a></li><li class=""><a href="/docs/guides/getting-started" target="_self">Docs</a></li><li class=""><a href="/rest-api" target="_self">API</a></li><li class=""><a href="https://forum.lpwanserver.com" target="_self">Forum</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">use-cases/pull-network</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="use-case-pull-network"></a><a href="#use-case-pull-network" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use Case - Pull Network</h1>
<p>The Pull Network use case describes the steps that occur when
the system pulls a remote network. Pulling a network can be
initiated by the Actor via a REST call, or by the System as
part of creating a Network.</p>
<h2><a class="anchor" aria-hidden="true" id="success-scenario"></a><a href="#success-scenario" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Success Scenario</h2>
<ul>
<li>A: Actor</li>
<li>S: System</li>
</ul>
<ol>
<li>A: Post a request for pulling a network</li>
<li>S: Verify that the network is authorized (create-network entry)</li>
<li><a href="/docs/use-cases/pull-applications">Pull applications</a> and <a href="/docs/use-cases/pull-device-profiles">device profiles</a> in parallel</li>
<li><a href="/docs/use-cases/pull-devices">Pull devices</a> (create-network exit)</li>
<li>S: Respond with list of logs from networks.</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="network-is-not-authorized"></a><a href="#network-is-not-authorized" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Network is not authorized</h3>
<ol>
<li>S: Fails to verify that Network is authorized</li>
<li>S: Respond with an error</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="system-fails-to-pull-all-applications-and-device-profiles"></a><a href="#system-fails-to-pull-all-applications-and-device-profiles" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>System fails to pull all applications and device profiles</h3>
<ol start="2">
<li>S: Error occurs while pulling all applications and device profiles</li>
<li>S: Respond with error</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="system-fails-to-pull-all-devices"></a><a href="#system-fails-to-pull-all-devices" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>System fails to pull all devices</h3>
<ol start="3">
<li>S: Error occurs while pulling devices</li>
<li>S: Respond with error</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="issues"></a><a href="#issues" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Issues</h2>
<ul>
<li>The logic for pulling a network doesn't attempt to authenticate with the network if
it is not already authorized.</li>
<li>The sequence of pulling a network varies according to the network.  For instance, on LoRa Server,
a company is created on the remote network if it doesn't exist.  Also, for LoRa Server, device profiles
are pulled, but other networks don't have the concept of device profiles.</li>
<li>Network protocols should not create companies and users on the remote network.</li>
<li>The NetworkProtocolAPI <code>networkProtocols.js</code> simply proxies the call to pull the network.
The Network model should call the pullNetwork method on the protocol directly. Same with
most methods on the NetworkProtocolAPI. Since sessions were moved to the protocol clients,
NetworkProtolAPI mainly just proxies calls.</li>
<li>The amount of successful asyncronous steps required to successfully pull a network is too big.
There should be REST endpoints for pulling a device, an application (no devices), and all
devices in an application. LPWAN shouldn't attempt to pull entire networks. Endpoints such as
<code>/networks/:networkId/applications</code> and <code>/network/:networkId/applications/:applicationId/devices</code>
could act as proxies to remote networks, providing the user with the info needed for more selective
pulling.</li>
<li>&quot;Pull&quot; doesn't have consistent meaning in LPWAN Server.  Pulling a network is inclusive of all apps
and devices, but pulling all applications is separate from pulling all devices, and pulling
all devices is separate from pulling device profiles.</li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#success-scenario">Success Scenario</a><ul class="toc-headings"><li><a href="#network-is-not-authorized">Network is not authorized</a></li><li><a href="#system-fails-to-pull-all-applications-and-device-profiles">System fails to pull all applications and device profiles</a></li><li><a href="#system-fails-to-pull-all-devices">System fails to pull all devices</a></li></ul></li><li><a href="#issues">Issues</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.png" alt="LPWAN Server" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/guides/getting-started">Getting Started</a><a href="/rest-api">API Reference</a></div><div><h5>Community</h5><a href="https://forum.lpwanserver.com" target="_blank" rel="noreferrer noopener">Forum</a></div><div><h5>More</h5><a href="https://github.com/cablelabs/lpwanserver">GitHub</a><a class="github-button" href="https://github.com/cablelabs/lpwanserver" data-icon="octicon-star" data-count-href="/cablelabs/lpwanserver/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/cablelabs_logo_white.png"/></a><section class="copyright">Copyright © 2019 CableLabs</section></footer></div></body></html>