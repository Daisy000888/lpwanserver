version: '3.5'

services:
  e2e-test:
    image: lpwanserver/e2e-test
    container_name: lpwanserver_dev_e2e_test
    networks:
      - lpwanserver_dev
    ports:
      - 3200:3200
    environment:
      - config_file=dev.json
      - TTN_ENABLED=false
      - TTN_USERNAME=${TTN_USERNAME}
      - TTN_PASSWORD=${TTN_PASSWORD}
      - TTN_CLIENT_ID=${TTN_CLIENT_ID}
      - TTN_CLIENT_SECRET=${TTN_CLIENT_SECRET}
      - LORIOT_ENABLED=false
      - LORIOT_API_KEY=${LORIOT_API_KEY}
    depends_on:
      - loraserver
      - loraserver1
      - lora_appserver
      - lora_appserver1
      # - postgresql
  # postgresql:
  #   volumes:
  #     - ./configuration/postgresql/initdb-demo:/docker-entrypoint-initdb.d
networks:
  lpwanserver_dev:
    name: lpwanserver_dev
